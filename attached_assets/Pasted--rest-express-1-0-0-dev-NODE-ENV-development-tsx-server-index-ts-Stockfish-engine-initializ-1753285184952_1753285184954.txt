
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

Stockfish engine initialized (simulation mode)
3:32:06 PM [express] serving on port 5000
3:32:16 PM [vite] ✨ new dependencies optimized: @radix-ui/react-tabs, @radix-ui/react-switch, @radix-ui/react-label, @radix-ui/react-slider, @radix-ui/react-dialog
3:32:16 PM [vite] ✨ optimized dependencies changed. reloading
3:32:41 PM [express] GET /api/users/1/stats 304 in 3ms :: {"gamesPlayed":0,"totalWins":0,"totalLosse…
3:32:41 PM [express] GET /api/users/1/stats 304 in 0ms :: {"gamesPlayed":0,"totalWins":0,"totalLosse…
3:32:47 PM [express] POST /api/chess/analyze-move 200 in 10ms :: {"score":0,"quality":"illegal","exp…
Optimized AI move generation for llama3-70b-8192 at difficulty 3
Optimized AI request for llama3-70b-8192 at difficulty 3
Raw AI response: {
  "move": {"from": "e7", "to": "e5"},
  "reasoning": "I'm playing the classical move e5, aiming to control the center and create space for my pieces to develop. This move also prepares to develop ot...
AI move successful: { from: 'e7', to: 'e5', promotion: undefined }
3:32:49 PM [express] POST /api/chess/ai-move 200 in 1308ms :: {"move":{"from":"e7","to":"e5"},"reaso…
3:32:55 PM [express] POST /api/chess/analyze-move 200 in 11ms :: {"score":0,"quality":"illegal","exp…
Optimized AI move generation for llama3-70b-8192 at difficulty 3
Optimized AI request for llama3-70b-8192 at difficulty 3
Raw AI response: {
  "move": {"from": "d8", "to": "e7"},
  "reasoning": "Developing the queen to a central square, preparing to control the d5 square and potentially create a pawn chain on the d-file. This move also e...
AI move successful: { from: 'd8', to: 'e7', promotion: undefined }
3:32:57 PM [express] POST /api/chess/ai-move 200 in 918ms :: {"move":{"from":"d8","to":"e7"},"reason…
3:32:59 PM [express] POST /api/chess/analyze-move 200 in 7ms :: {"score":0,"quality":"illegal","expl…
Optimized AI move generation for llama3-70b-8192 at difficulty 3
Optimized AI request for llama3-70b-8192 at difficulty 3
Raw AI response: {
  "move": {"from": "e7", "to": "e5"},
  "reasoning": "Capturing the pawn on e5, which is a strong central pawn, and opening up the d-file for my rook to potentially use in the future. This move also...
AI move successful: { from: 'e7', to: 'e5', promotion: undefined }
3:33:00 PM [express] POST /api/chess/ai-move 200 in 839ms :: {"move":{"from":"e7","to":"e5"},"reason…
3:33:11 PM [express] GET /api/users/1/stats 304 in 1ms :: {"gamesPlayed":0,"totalWins":0,"totalLosse…
3:33:11 PM [express] GET /api/users/1/stats 304 in 1ms :: {"gamesPlayed":0,"totalWins":0,"totalLosse…
3:33:22 PM [express] POST /api/chess/analyze-move 200 in 3ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:33:22 PM [express] POST /api/chess/ai-move 200 in 141ms :: {"move":{"from":"b8","to":"c6"},"reason…
3:33:23 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:33:24 PM [express] POST /api/chess/ai-move 200 in 104ms :: {"move":{"from":"h7","to":"h6"},"reason…
3:33:29 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:33:29 PM [express] POST /api/chess/ai-move 200 in 47ms :: {"move":{"from":"d7","to":"d5"},"reasoni…
3:33:41 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:33:41 PM [express] POST /api/chess/ai-move 200 in 70ms :: {"move":{"from":"b7","to":"b6"},"reasoni…
3:33:46 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:33:47 PM [express] POST /api/chess/ai-move 200 in 82ms :: {"move":{"from":"g7","to":"g6"},"reasoni…
3:34:10 PM [express] POST /api/chess/analyze-move 200 in 3ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:11 PM [express] POST /api/chess/ai-move 200 in 160ms :: {"move":{"from":"a7","to":"a5"},"reason…
3:34:18 PM [express] POST /api/chess/analyze-move 200 in 3ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:19 PM [express] POST /api/chess/ai-move 200 in 55ms :: {"move":{"from":"a5","to":"a4"},"reasoni…
3:34:21 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:22 PM [express] POST /api/chess/ai-move 200 in 116ms :: {"move":{"from":"c7","to":"c6"},"reason…
3:34:36 PM [express] POST /api/chess/analyze-move 200 in 0ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:37 PM [express] POST /api/chess/ai-move 200 in 89ms :: {"move":{"from":"e8","to":"d8"},"reasoni…
3:34:42 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:42 PM [express] POST /api/chess/ai-move 200 in 83ms :: {"move":{"from":"c8","to":"g4"},"reasoni…
3:34:50 PM [express] POST /api/chess/analyze-move 200 in 4ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:51 PM [express] POST /api/chess/ai-move 200 in 98ms :: {"move":{"from":"g6","to":"g5"},"reasoni…
3:34:52 PM [express] POST /api/chess/analyze-move 200 in 3ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:34:53 PM [express] POST /api/chess/ai-move 200 in 80ms :: {"move":{"from":"f8","to":"g7"},"reasoni…
3:35:04 PM [express] POST /api/chess/analyze-move 200 in 3ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:35:05 PM [express] POST /api/chess/ai-move 200 in 116ms :: {"move":{"from":"g4","to":"d1"},"reason…
3:35:15 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:35:16 PM [express] POST /api/chess/ai-move 200 in 79ms :: {"move":{"from":"h6","to":"h5"},"reasoni…
3:35:29 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:35:30 PM [express] POST /api/chess/ai-move 200 in 67ms :: {"move":{"from":"g7","to":"h6"},"reasoni…
3:35:38 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: piece data is invalid (invalid piece)
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:35:38 PM [express] POST /api/chess/ai-move 200 in 81ms :: {"move":{"from":"h6","to":"e3"},"reasoni…
3:35:40 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: illegal en-passant square
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:35:45 PM [express] POST /api/chess/ai-move 200 in 4132ms :: {"move":{"from":"e7","to":"e6"},"reaso…
3:35:47 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: illegal en-passant square
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:36:10 PM [express] POST /api/chess/ai-move 200 in 22936ms :: {"move":{"from":"f7","to":"f6"},"reas…
3:36:23 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Using Stockfish engine at difficulty 10
Error getting best move: Error: Invalid FEN: illegal en-passant square
    at Chess.load (/home/runner/workspace/node_modules/src/chess.ts:766:15)
    at StockfishEngine.evaluateTacticalFactors (/home/runner/workspace/server/stockfish-engine.ts:315:15)
    at StockfishEngine.staticEvaluation (/home/runner/workspace/server/stockfish-engine.ts:268:24)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:229:19)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at StockfishEngine.evaluatePosition (/home/runner/workspace/server/stockfish-engine.ts:237:31)
    at <anonymous> (/home/runner/workspace/server/stockfish-engine.ts:206:31)
    at Array.map (<anonymous>)
    at StockfishEngine.getBestMoveByEvaluation (/home/runner/workspace/server/stockfish-engine.ts:204:34)
    at StockfishEngine.getEngineMove (/home/runner/workspace/server/stockfish-engine.ts:200:17)
    at StockfishEngine.getBestMove (/home/runner/workspace/server/stockfish-engine.ts:106:31)
    at <anonymous> (/home/runner/workspace/server/routes.ts:680:55)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
3:36:33 PM [express] POST /api/chess/ai-move 200 in 9575ms :: {"move":{"from":"a8","to":"c8"},"reaso…
3:36:42 PM [express] POST /api/chess/analyze-move 200 in 1ms :: {"score":0,"quality":"illegal","expl…
3:37:25 PM [express] POST /api/chess/analyze-move 200 in 2ms :: {"score":0,"quality":"illegal","expl…
Optimized AI move generation for moonshotai/kimi-k2-instruct at difficulty 5
AI generation error: Error: Model moonshotai/kimi-k2-instruct does not exist or is not supported
    at GroqAIService.generateMove (/home/runner/workspace/server/groq-ai.ts:320:15)
    at <anonymous> (/home/runner/workspace/server/routes.ts:735:44)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
Groq AI failed, using local engine: Model moonshotai/kimi-k2-instruct does not exist or is not supported
3:37:27 PM [express] POST /api/chess/ai-move 200 in 1510ms :: {"move":{"from":"e7","to":"e5"},"reaso…
3:37:29 PM [express] POST /api/chess/analyze-move 200 in 4ms :: {"score":0,"quality":"illegal","expl…
Optimized AI move generation for moonshotai/kimi-k2-instruct at difficulty 5
AI generation error: Error: Model moonshotai/kimi-k2-instruct does not exist or is not supported
    at GroqAIService.generateMove (/home/runner/workspace/server/groq-ai.ts:320:15)
    at <anonymous> (/home/runner/workspace/server/routes.ts:735:44)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
Groq AI failed, using local engine: Model moonshotai/kimi-k2-instruct does not exist or is not supported
3:37:32 PM [express] POST /api/chess/ai-move 200 in 1968ms :: {"move":{"from":"d8","to":"f6"},"reaso…
3:37:34 PM [express] POST /api/chess/analyze-move 200 in 4ms :: {"score":0,"quality":"illegal","expl…
Optimized AI move generation for moonshotai/kimi-k2-instruct at difficulty 5
AI generation error: Error: Model moonshotai/kimi-k2-instruct does not exist or is not supported
    at GroqAIService.generateMove (/home/runner/workspace/server/groq-ai.ts:320:15)
    at <anonymous> (/home/runner/workspace/server/routes.ts:735:44)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
Groq AI failed, using local engine: Model moonshotai/kimi-k2-instruct does not exist or is not supported
3:37:42 PM [express] POST /api/chess/ai-move 200 in 7889ms :: {"move":{"from":"f6","to":"e5"},"reaso…
Optimized AI move generation for moonshotai/kimi-k2-instruct at difficulty 5
AI generation error: Error: Model moonshotai/kimi-k2-instruct does not exist or is not supported
    at GroqAIService.generateMove (/home/runner/workspace/server/groq-ai.ts:320:15)
    at <anonymous> (/home/runner/workspace/server/routes.ts:735:44)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
Groq AI failed, using local engine: Model moonshotai/kimi-k2-instruct does not exist or is not supported
3:38:28 PM [express] POST /api/chess/ai-move 200 in 5ms :: {"move":{"from":"e7","to":"e5"},"reasonin…
Optimized AI move generation for moonshotai/kimi-k2-instruct at difficulty 5
AI generation error: Error: Model moonshotai/kimi-k2-instruct does not exist or is not supported
    at GroqAIService.generateMove (/home/runner/workspace/server/groq-ai.ts:320:15)
    at <anonymous> (/home/runner/workspace/server/routes.ts:735:44)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:37:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:85:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/body-parser/lib/read.js:137:5
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    at invokeCallback (/home/runner/workspace/node_modules/raw-body/index.js:238:16)
    at done (/home/runner/workspace/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/home/runner/workspace/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:524:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
Groq AI failed, using local engine: Model moonshotai/kimi-k2-instruct does not exist or is not supported
3:38:47 PM [express] POST /api/chess/ai-move 200 in 3ms :: {"move":{"from":"e7","to":"e5"},"reasonin…
                            