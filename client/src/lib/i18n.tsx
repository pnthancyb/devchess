import React, { createContext, useContext, useState, useEffect, ReactNode } from "react";

export const languages = {
  en: "English",
  ku: "KurdÃ®", // Kurdish in Latin letters as requested
  fr: "FranÃ§ais",
  es: "EspaÃ±ol",
  de: "Deutsch",
  tr: "TÃ¼rkÃ§e",
};

// Removed flags as requested by user

export type Language = keyof typeof languages;

const translations = {
  en: {
    "chess.groq.coach": "Chess Groq Coach",
    "ai.powered.training": "AI-Powered Training",
    "game.mode": "Game Mode",
    "classic.vs": "Classic VS",
    "feedback": "Feedback",
    "scoring": "Scoring",
    "coach.mode": "Coach Mode",
    "opening.learning": "Opening Learning",
    "game.active": "Game Active",
    "move": "Move",
    "reset.game": "Reset Game",
    "download.pgn": "Download PGN",
    "you": "You",
    "groq.ai": "Groq AI",
    "white": "White",
    "black": "Black",
    "ai.analysis": "AI Analysis",
    "chess.coach": "Chess Coach",
    "move.history": "Move History",
    "games.played": "Games Played",
    "win.rate": "Win Rate",
    "average.rating": "Average Rating",
    "last.move.analysis": "Last Move Analysis",
    "move.score": "Move Score",
    "ask.coach": "Ask your coach...",
    "ai.thinking": "AI is thinking...",
    "settings.title": "Settings",
    "settings.aiModel": "AI Model",
    "settings.selectModel": "Select AI Model",
    "settings.currentModel": "Current Model",
    "settings.difficulty": "Difficulty",
    "settings.difficultyLevel": "Difficulty Level",
    "settings.currentDifficulty": "Current Difficulty",
    "settings.beginner": "Beginner",
    "settings.easy": "Easy",
    "settings.medium": "Medium", 
    "settings.hard": "Hard",
    "settings.expert": "Expert",
    "settings.beginnerDesc": "Perfect for learning chess basics and piece movement",
    "settings.mediumDesc": "Balanced gameplay with moderate tactical challenges",
    "settings.expertDesc": "Advanced strategic play with deep position analysis",
    "settings.recommendations": "Model Recommendations",
    "settings.recommendedFor": "Levels",
    "settings.recommendedFor": "Levels",
    "settings.recommended": "Recommended",
    "common.white": "White",
    "common.black": "Black",
    "game.wins": "Wins",
    "game.draw": "Draw",
    "game.gameOver": "Game Over",
    "game.check": "Check",
    "game.aiThinking": "AI is thinking",
    "game.reset": "Reset Game",
    "game.flipBoard": "Flip Board",
    "game.exportPGN": "Export PGN",
    "game.turn": "Turn",
    "game.difficulty": "Difficulty",
    coach: {
      welcome: "ðŸ’¡ Welcome! I'm your AI chess coach. I analyze positions live and provide tips based on your current game situation.",
      opening: {
        advice: "Focus on controlling center squares, develop knights before bishops, castle early for king safety."
      },
      tactics: {
        advice: "Look for tactical patterns in your current position: pins, forks, skewers, and discovered attacks."
      },
      endgame: {
        advice: "Activate your king, push passed pawns, and centralize pieces. King activity becomes crucial."
      },
      position: {
        advice: "Check king safety, piece activity, center control, and pawn structure in this position."
      },
      mistake: {
        advice: "Before each move ask: Is my king safe? Are pieces defended? Does this improve my position?"
      },
      improve: {
        advice: "Study similar positions, practice tactics daily, analyze your games, and focus on one aspect at a time."
      },
      default: {
        1: "ðŸ’¡ TIP: Every move should have a purpose in this position.",
        2: "ðŸ’¡ TIP: Consider the three phases: opening, middlegame, endgame strategies.",
        3: "ðŸ’¡ TIP: Look for forcing moves first - checks, captures, threats.",
        4: "ðŸ’¡ TIP: Pattern recognition improves with practice and analysis.",
        5: "ðŸ’¡ TIP: Create and exploit weaknesses in the current position."
      },
      chat: {
        title: "AI Chess Coach",
        subtitle: "Live position analysis â€¢ Tips â€¢ Move explanations",
        placeholder: "Ask about this position, tactics, or why you should make a move...",
        help: "ðŸ’¡ Get live tips â€¢ Press Enter to send â€¢ Ask 'Why should I move here?'"
      }
    },
    "coach.chat.title": "AI Coach Chat",
    "coach.chat.subtitle": "Get personalized chess guidance and analysis",
    "coach.chat.placeholder": "Ask about tactics, strategy, this position...",
    "coach.chat.help": "Press Enter to send â€¢ Ask about the current position or general chess advice",
  },
  ku: {
    "chess.groq.coach": "Mamostay ShetrencÃ® Groq",
    "ai.powered.training": "Rahenani bi Hoshi Destkird",
    "game.mode": "Shewazi Yari",
    "classic.vs": "Klasiki",
    "feedback": "Rexne",
    "scoring": "Xal",
    "coach.mode": "Shewazi Mamosta",
    "opening.learning": "Ferbuni Destpek",
    "game.active": "Yari Chalak",
    "move": "Jule",
    "reset.game": "Dubare Destpekirdnewe",
    "download.pgn": "Dagirtini PGN",
    "you": "To",
    "groq.ai": "Groq AI",
    "white": "Spi",
    "black": "Resh",
    "ai.analysis": "Shikirdnewey AI",
    "chess.coach": "Mamostay Shetrenc",
    "move.history": "Mejuy Julekan",
    "games.played": "Yarikirawekan",
    "win.rate": "Rejey Birdnewe",
    "average.rating": "Nirxandini Nawend",
    "last.move.analysis": "Shikirdnewey Dwayin Jule",
    "move.score": "Xali Jule",
    "ask.coach": "Pirsiyar le mamostaket bike...",
    "ai.thinking": "AI birdekatewe...",
    "settings.title": "Mihengkirin",
    "settings.aiModel": "Modela AI",
    "settings.selectModel": "Modela AI Hilbijere",
    "settings.currentModel": "Modela Niha",
    "settings.difficulty": "Aste Dijwari",
    "settings.difficultyLevel": "Asta Dijwari",
    "settings.currentDifficulty": "Dijwariya Niha",
    "settings.beginner": "Destpeker",
    "settings.easy": "Hesan",
    "settings.medium": "Nawin",
    "settings.hard": "Dijwar",
    "settings.expert": "Pispor",
    "settings.beginnerDesc": "Ji bo ferbuÐ½Ð° bingehin a shetrencÃª Ã» tevgeren perÃ§eyan",
    "settings.mediumDesc": "Yariya hevseng bi dijwariyen taktikal en nawin",
    "settings.expertDesc": "Yariya stratejikal a peshketi bi analiza kur a pozisyone",
    "settings.recommendations": "Peshniyaren Model",
    "settings.recommendedFor": "Ast",
    "settings.recommended": "Peshniyarkirin",
    "common.white": "Spi",
    "common.black": "Resh",
    "game.wins": "Berdewam",
    "game.draw": "Beraber",
    "game.gameOver": "Yari Temam",
    "game.check": "Shah",
    "game.aiThinking": "AI birdekatewe",
    "game.reset": "Dubare Destpekirdnewe",
    "game.flipBoard": "Daxe Zirav bike",
    "game.exportPGN": "PGN Derxe",
    "game.turn": "Nobe",
    "game.difficulty": "Dijwari",
    "coach.welcome": "Ø³ÚµØ§Ùˆ! Ù…Ù† Ú•Ø§Ù‡ÛŽÙ†Û•Ø±ÛŒ Ø´Û•ØªØ±Û•Ù†Ø¬ÛŒ AIÙ…. Ø¯Û•ØªÙˆØ§Ù†Ù… ÛŒØ§Ø±Ù…Û•ØªÛŒØª Ø¨Ø¯Û•Ù… Ø¨Û† Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¬ÛŽÚ¯Û•Ú©Ø§Ù†ØŒ Ù¾ÛŽØ´Ù†ÛŒØ§Ø±ÛŒ Ø¬ÙˆÙˆÚµÛ•ØŒ Ú•ÙˆÙˆÙ†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©Û•Ú©Ø§Ù†ØŒ Ùˆ ÙˆÛ•ÚµØ§Ù…Ø¯Ø§Ù†Û•ÙˆÛ•ÛŒ Ù‡Û•Ø± Ù¾Ø±Ø³ÛŒØ§Ø±ÛŽÚ©ÛŒ Ø´Û•ØªØ±Û•Ù†Ø¬. Ú†ÛŒØª Ø¯Û•ÙˆÛŽØª Ú©Ø§Ø±ÛŒ Ù„Û•Ø³Û•Ø± Ø¨Ú©Û•ÛŒØªØŸ",
    "coach.chat.title": "Ú¯ÙØªÙˆÚ¯Û†ÛŒ Ú•Ø§Ù‡ÛŽÙ†Û•Ø±ÛŒ AI",
    "coach.chat.subtitle": "Ú•ÛŽÙ†Ù…Ø§ÛŒÛŒ Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ØªØ§ÛŒØ¨Û•ØªÛŒ Ø´Û•ØªØ±Û•Ù†Ø¬ ÙˆÛ•Ø±Ø¨Ú¯Ø±Û•",
    "coach.chat.placeholder": "Ù¾Ø±Ø³ÛŒØ§Ø± Ù„Û•Ø³Û•Ø± ØªÛ•Ú©Ù†ÛŒÚ©ØŒ Ø³ØªØ±Ø§ØªÛŒÚ˜ÛŒØŒ Ø¦Û•Ù… Ø¬ÛŽÚ¯Ø§ÛŒÛ•...",
    "coach.chat.help": "Enter Ø¯Ø§Ø¨Ú¯Ø±Û• Ø¨Û† Ù†Ø§Ø±Ø¯Ù† â€¢ Ù¾Ø±Ø³ÛŒØ§Ø± Ù„Û• Ø¬ÛŽÚ¯Ø§ÛŒ Ø¦ÛŽØ³ØªØ§ ÛŒØ§Ù† Ú•Ø§ÙˆÛŽÚ˜ÛŒ Ú¯Ø´ØªÛŒ Ø´Û•ØªØ±Û•Ù†Ø¬ Ø¨Ú©Û•",
  },
  fr: {
    "chess.groq.coach": "EntraÃ®neur d'Ã‰checs Groq",
    "ai.powered.training": "Formation AlimentÃ©e par l'IA",
    "game.mode": "Mode de Jeu",
    "classic.vs": "Classique VS",
    "feedback": "Commentaires",
    "scoring": "Notation",
    "coach.mode": "Mode EntraÃ®neur",
    "game.active": "Jeu Actif",
    "move": "Coup",
    "reset.game": "RÃ©initialiser le Jeu",
    "download.pgn": "TÃ©lÃ©charger PGN",
    "you": "Vous",
    "groq.ai": "Groq IA",
    "white": "Blanc",
    "black": "Noir",
    "ai.analysis": "Analyse IA",
    "chess.coach": "EntraÃ®neur d'Ã‰checs",
    "move.history": "Historique des Coups",
    "games.played": "Parties JouÃ©es",
    "win.rate": "Taux de Victoire",
    "average.rating": "Classement Moyen",
    "last.move.analysis": "Analyse du Dernier Coup",
    "move.score": "Score du Coup",
    "ask.coach": "Demandez Ã  votre entraÃ®neur...",
    "ai.thinking": "L'IA rÃ©flÃ©chit...",
    "settings.title": "Settings",
    "settings.aiModel": "AI Model",
    "settings.selectModel": "Select AI Model",
    "settings.currentModel": "Current Model",
    "settings.difficulty": "Difficulty",
    "settings.difficultyLevel": "Difficulty Level",
    "settings.currentDifficulty": "Current Difficulty",
    "settings.beginner": "Beginner",
    "settings.easy": "Easy",
    "settings.medium": "Medium", 
    "settings.hard": "Hard",
    "settings.expert": "Expert",
    "settings.beginnerDesc": "Perfect for learning chess basics and piece movement",
    "settings.mediumDesc": "Balanced gameplay with moderate tactical challenges",
    "settings.expertDesc": "Advanced strategic play with deep position analysis",
    "settings.recommendations": "Model Recommendations",
    "settings.recommendedFor": "Levels",
    "settings.recommended": "Recommended",
    "common.white": "White",
    "common.black": "Black",
    "game.wins": "Wins",
    "game.draw": "Draw",
    "game.gameOver": "Game Over",
    "game.check": "Check",
    "game.aiThinking": "AI is thinking",
    "game.reset": "Reset Game",
    "game.flipBoard": "Flip Board",
    "game.exportPGN": "Export PGN",
    "game.turn": "Turn",
    "game.difficulty": "Difficulty",
    "coach.welcome": "Salut ! Je suis votre entraÃ®neur d'Ã©checs IA. Je peux vous aider Ã  analyser les positions, suggÃ©rer des coups, expliquer les tactiques et rÃ©pondre Ã  toutes vos questions d'Ã©checs. Sur quoi aimeriez-vous travailler ?",
    "coach.chat.title": "Chat EntraÃ®neur IA",
    "coach.chat.subtitle": "Obtenez des conseils et analyses d'Ã©checs personnalisÃ©s",
    "coach.chat.placeholder": "Demandez sur les tactiques, la stratÃ©gie, cette position...",
    "coach.chat.help": "Appuyez sur EntrÃ©e pour envoyer â€¢ Demandez sur la position actuelle ou des conseils gÃ©nÃ©raux d'Ã©checs",
  },
  es: {
    "chess.groq.coach": "Entrenador de Ajedrez Groq",
    "ai.powered.training": "Entrenamiento Impulsado por IA",
    "game.mode": "Modo de Juego",
    "classic.vs": "ClÃ¡sico VS",
    "feedback": "Comentarios",
    "scoring": "PuntuaciÃ³n",
    "coach.mode": "Modo Entrenador",
    "game.active": "Juego Activo",
    "move": "Movimiento",
    "reset.game": "Reiniciar Juego",
    "download.pgn": "Descargar PGN",
    "you": "TÃº",
    "groq.ai": "Groq IA",
    "white": "Blanco",
    "black": "Negro",
    "ai.analysis": "AnÃ¡lisis IA",
    "chess.coach": "Entrenador de Ajedrez",
    "move.history": "Historial de Movimientos",
    "games.played": "Partidas Jugadas",
    "win.rate": "Tasa de Victoria",
    "average.rating": "PuntuaciÃ³n Promedio",
    "last.move.analysis": "AnÃ¡lisis del Ãšltimo Movimiento",
    "move.score": "PuntuaciÃ³n del Movimiento",
    "ask.coach": "Pregunta a tu entrenador...",
    "ai.thinking": "La IA estÃ¡ pensando...",
    "settings.title": "Settings",
    "settings.aiModel": "AI Model",
    "settings.selectModel": "Select AI Model",
    "settings.currentModel": "Current Model",
    "settings.difficulty": "Difficulty",
    "settings.difficultyLevel": "Difficulty Level",
    "settings.currentDifficulty": "Current Difficulty",
    "settings.beginner": "Beginner",
    "settings.easy": "Easy",
    "settings.medium": "Medium", 
    "settings.hard": "Hard",
    "settings.expert": "Expert",
    "settings.beginnerDesc": "Perfect for learning chess basics and piece movement",
    "settings.mediumDesc": "Balanced gameplay with moderate tactical challenges",
    "settings.expertDesc": "Advanced strategic play with deep position analysis",
    "settings.recommendations": "Model Recommendations",
    "settings.recommendedFor": "Levels",
    "settings.recommended": "Recommended",
    "common.white": "White",
    "common.black": "Black",
    "game.wins": "Wins",
    "game.draw": "Draw",
    "game.gameOver": "Game Over",
    "game.check": "Check",
    "game.aiThinking": "AI is thinking",
    "game.reset": "Reset Game",
    "game.flipBoard": "Flip Board",
    "game.exportPGN": "Export PGN",
    "game.turn": "Turn",
    "game.difficulty": "Difficulty",
    "coach.welcome": "Â¡Hola! Soy tu entrenador de ajedrez IA. Puedo ayudarte a analizar posiciones, sugerir movimientos, explicar tÃ¡cticas y responder cualquier pregunta de ajedrez que tengas. Â¿En quÃ© te gustarÃ­a trabajar?",
    "coach.chat.title": "Chat Entrenador IA",
    "coach.chat.subtitle": "ObtÃ©n orientaciÃ³n y anÃ¡lisis de ajedrez personalizados",
    "coach.chat.placeholder": "Pregunta sobre tÃ¡cticas, estrategia, esta posiciÃ³n...",
    "coach.chat.help": "Presiona Enter para enviar â€¢ Pregunta sobre la posiciÃ³n actual o consejos generales de ajedrez",
  },
  de: {
    "chess.groq.coach": "Schach Groq Trainer",
    "ai.powered.training": "KI-gestÃ¼tztes Training",
    "game.mode": "Spielmodus",
    "classic.vs": "Klassisch VS",
    "feedback": "RÃ¼ckmeldung",
    "scoring": "Bewertung",
    "coach.mode": "Trainer-Modus",
    "game.active": "Spiel Aktiv",
    "move": "Zug",
    "reset.game": "Spiel ZurÃ¼cksetzen",
    "download.pgn": "PGN Herunterladen",
    "you": "Sie",
    "groq.ai": "Groq KI",
    "white": "WeiÃŸ",
    "black": "Schwarz",
    "ai.analysis": "KI-Analyse",
    "chess.coach": "Schachtrainer",
    "move.history": "Zughistorie",
    "games.played": "Gespielte Partien",
    "win.rate": "Gewinnrate",
    "average.rating": "Durchschnittliche Bewertung",
    "last.move.analysis": "Analyse des Letzten Zugs",
    "move.score": "Zug-Bewertung",
    "ask.coach": "Fragen Sie Ihren Trainer...",
    "ai.thinking": "KI denkt nach...",
    "settings.title": "Settings",
    "settings.aiModel": "AI Model",
    "settings.selectModel": "Select AI Model",
    "settings.currentModel": "Current Model",
    "settings.difficulty": "Difficulty",
    "settings.difficultyLevel": "Difficulty Level",
    "settings.currentDifficulty": "Current Difficulty",
    "settings.beginner": "Beginner",
    "settings.easy": "Easy",
    "settings.medium": "Medium", 
    "settings.hard": "Hard",
    "settings.expert": "Expert",
    "settings.beginnerDesc": "Perfect for learning chess basics and piece movement",
    "settings.mediumDesc": "Balanced gameplay with moderate tactical challenges",
    "settings.expertDesc": "Advanced strategic play with deep position analysis",
    "settings.recommendations": "Model Recommendations",
    "settings.recommendedFor": "Levels",
    "settings.recommended": "Recommended",
    "common.white": "White",
    "common.black": "Black",
    "game.wins": "Wins",
    "game.draw": "Draw",
    "game.gameOver": "Game Over",
    "game.check": "Check",
    "game.aiThinking": "AI is thinking",
    "game.reset": "Reset Game",
    "game.flipBoard": "Flip Board",
    "game.exportPGN": "Export PGN",
    "game.turn": "Turn",
    "game.difficulty": "Difficulty",
    "coach.welcome": "Hallo! Ich bin Ihr KI-Schachtrainer. Ich kann Ihnen helfen, Positionen zu analysieren, ZÃ¼ge vorzuschlagen, Taktiken zu erklÃ¤ren und alle Ihre Schachfragen zu beantworten. Woran mÃ¶chten Sie arbeiten?",
    "coach.chat.title": "KI-Trainer Chat",
    "coach.chat.subtitle": "Erhalten Sie personalisierte Schachberatung und -analyse",
    "coach.chat.placeholder": "Fragen Sie nach Taktiken, Strategie, dieser Position...",
    "coach.chat.help": "Enter drÃ¼cken zum Senden â€¢ Fragen Sie nach der aktuellen Position oder allgemeinen Schachtipps",
  },
  tr: {
    "chess.groq.coach": "SatranÃ§ Groq AntrenÃ¶rÃ¼",
    "ai.powered.training": "Yapay Zeka Destekli EÄŸitim",
    "game.mode": "Oyun Modu",
    "classic.vs": "Klasik VS",
    "feedback": "Geri Bildirim",
    "scoring": "Puanlama",
    "coach.mode": "AntrenÃ¶r Modu",
    "game.active": "Oyun Aktif",
    "move": "Hamle",
    "reset.game": "Oyunu SÄ±fÄ±rla",
    "download.pgn": "PGN Ä°ndir",
    "you": "Sen",
    "groq.ai": "Groq Yapay Zeka",
    "white": "Beyaz",
    "black": "Siyah",
    "ai.analysis": "Yapay Zeka Analizi",
    "chess.coach": "SatranÃ§ AntrenÃ¶rÃ¼",
    "move.history": "Hamle GeÃ§miÅŸi",
    "games.played": "Oynanan Oyunlar",
    "win.rate": "Kazanma OranÄ±",
    "average.rating": "Ortalama Puan",
    "last.move.analysis": "Son Hamle Analizi",
    "move.score": "Hamle PuanÄ±",
    "ask.coach": "AntrenÃ¶rÃ¼nÃ¼ze sorun...",
    "ai.thinking": "Yapay zeka dÃ¼ÅŸÃ¼nÃ¼yor...",
    "settings.title": "Settings",
    "settings.aiModel": "AI Model",
    "settings.selectModel": "Select AI Model",
    "settings.currentModel": "Current Model",
    "settings.difficulty": "Difficulty",
    "settings.difficultyLevel": "Difficulty Level",
    "settings.currentDifficulty": "Current Difficulty",
    "settings.beginner": "Beginner",
    "settings.easy": "Easy",
    "settings.medium": "Medium", 
    "settings.hard": "Hard",
    "settings.expert": "Expert",
    "settings.beginnerDesc": "Perfect for learning chess basics and piece movement",
    "settings.mediumDesc": "Balanced gameplay with moderate tactical challenges",
    "settings.expertDesc": "Advanced strategic play with deep position analysis",
    "settings.recommendations": "Model Recommendations",
    "settings.recommendedFor": "Levels",
    "settings.recommended": "Recommended",
    "common.white": "White",
    "common.black": "Black",
    "game.wins": "Wins",
    "game.draw": "Draw",
    "game.gameOver": "Game Over",
    "game.check": "Check",
    "game.aiThinking": "AI is thinking",
    "game.reset": "Reset Game",
    "game.flipBoard": "Flip Board",
    "game.exportPGN": "Export PGN",
    "game.turn": "Turn",
    "game.difficulty": "Difficulty",
    "coach.welcome": "Merhaba! Ben AI satranÃ§ antrenÃ¶rÃ¼nÃ¼zÃ¼m. PozisyonlarÄ± analiz etmenize, hamle Ã¶nermenize, taktikleri aÃ§Ä±klamanÄ±za ve satranÃ§ sorularÄ±nÄ±zÄ± yanÄ±tlamanÄ±za yardÄ±mcÄ± olabilirim. Ne Ã¼zerinde Ã§alÄ±ÅŸmak istersiniz?",
    "coach.chat.title": "AI AntrenÃ¶r Sohbeti",
    "coach.chat.subtitle": "KiÅŸiselleÅŸtirilmiÅŸ satranÃ§ rehberliÄŸi ve analizi alÄ±n",
    "coach.chat.placeholder": "Taktikler, strateji, bu pozisyon hakkÄ±nda sorun...",
    "coach.chat.help": "GÃ¶ndermek iÃ§in Enter'a basÄ±n â€¢ Mevcut pozisyon veya genel satranÃ§ tavsiyeleri hakkÄ±nda sorun",
  },
};

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const I18nProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>(() => {
    return (localStorage.getItem("language") as Language) || "en";
  });

  useEffect(() => {
    localStorage.setItem("language", language);
  }, [language]);

  const t = (key: string): string => {
    return translations[language]?.[key as keyof typeof translations.en] || key;
  };

  return (
    <I18nContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
};

export function useI18n() {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error("useI18n must be used within an I18nProvider");
  }
  return context;
}